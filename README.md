# PicoPixel

PicoPixelは、Pyxelを用いた8bitスタイルの音楽シーケンサーです。シンプルな操作で、レトロなチップチューンを作成することができます。

## 機能

- 1トラック構成
- 16ステップシーケンス
- 全音階入力（半音を含む12音階）
- オクターブ変更機能（0-4）
- 音色タイプ切替機能（三角波、矩形波、パルス波、ノイズ）
- キーボード＆ゲームパッド操作対応
- 再生・停止機能
- テンポ変更機能（60-240 BPM）

## インストール方法

1. 必要なパッケージをインストールします：

```bash
uv pip install -r requirements.txt
```

2. アプリケーションを起動します：

```bash
uv run picopyxel/main.py
```

## 実機転送方法

実機（Powkiddy RGB30など）にアプリケーションを転送するには、以下の手順に従ってください。

### 1. 実行権限の付与

まず、デプロイスクリプトに実行権限を付与します：

```bash
chmod +x deploy.sh
```

### 2. デプロイの実行

以下のコマンドを実行して、パッケージを作成し実機に転送します：

```bash
./deploy.sh
```

デフォルトでは、以下の設定が使用されます：
- パッケージ名: picopyxel
- Pythonファイル: picopyxel/main.py
- ホスト: plumOS-RN
- パスワード: plum

カスタム設定を使用する場合は、引数を指定できます：

```bash
./deploy.sh <パッケージ名> <Pythonファイルパス> <ホスト> <パスワード>
```

例：
```bash
./deploy.sh mygame mygame/game.py 192.168.1.100 mypassword
```

### 3. 実機での実行

転送が完了したら、実機でPyxelランチャーを起動し、転送したアプリケーションを選択して実行してください。

## 操作方法

### キーボード操作

- **スペースキー**: 再生/停止の切り替え
- **矢印キー（左右）**: ステップ選択
- **矢印キー（上下）**: 音階選択（C, C#, D, D#, E, F, F#, G, G#, A, A#, B）
- **PageUp/PageDown（PgUp/PgDn）**: オクターブ変更
- **H/Lキー**: テンポ変更
- **J/Kキー**: 音色タイプ切替
- **Enterキー**: 選択中の音階を入力
- **DEL/Backspace**: 選択中のステップの音を消去
- **Ctrl+D**: すべてのステップの音を消去
- **ESC**: アプリケーション終了

### ゲームパッド操作

- **STARTボタン**: アプリケーション終了
- **十字キー（左右）** または **左スティック左右**: ステップ選択
- **十字キー（上下）**: 音階選択
- **L/Rショルダーボタン**: オクターブ変更
- **右スティック左右**: テンポ変更
- **L/Rトリガー**: 音色タイプ切替
- **Aボタン**: 再生/停止の切り替え
- **Bボタン**: 選択中の音階を入力
- **BACKボタン**: 選択中のステップの音を消去
- **GUIDE+BACKボタン同時押し**: すべてのステップの音を消去

## 画面説明

- 上部: タイトルと操作説明
- 中央: 16ステップ×8音階のシーケンサーグリッド
- 下部: 再生状態、選択中のステップ、オクターブ、テンポ、音色タイプ表示

## 開発情報

- 開発言語: Python
- 使用ライブラリ: Pyxel
- 対応OS: Windows, macOS, Linux

## ライセンス

MITライセンス
